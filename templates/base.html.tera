<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <!-- 为了提高安全性, 每约30分钟自动刷新一次 -->
    <!-- 服务器端默认30分钟自动关闭, 由于这些时间都并非绝对精确, -->
    <!-- 因此设为比30分钟稍长, 可避免刚好在服务器关闭前刷新. -->
    <meta http-equiv="refresh" content="1818">
    <title>{% block title %}{% endblock title %}</title>
    <style type="text/css">
      body {
        font-family: serif;
        font-size: 12pt;
        margin-left: 2em;
      }
      label {
        display: block;
      }
      .Fields {
        font-size: larger;
        width: 15em;
        margin-left: 1em;
        -webkit-box-sizing: border-box;
          -moz-box-sizing: border-box;
                box-sizing: border-box;
      }
      textarea {
        resize: vertical;
        height: 3em;
      }
      .FlashMessage {
        font-weight: bold;
        color: red;
      }
    </style>

    <script type="text/javascript">
    function sendData(data, url) {
      // https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Sending_forms_through_JavaScript
      var XHR = new XMLHttpRequest();
      var FD  = new FormData();

      for(name in data) {
        FD.append(name, data[name]);
      }
      console.log(FD)

      XHR.open('POST', url);
      XHR.send(FD);
    }
    function generatePW() {
      var xhr = new XMLHttpRequest()
      xhr.open('GET', '/new-password')
      xhr.onload = function() {
        if (this.status === 200) {
          document.getElementById('Password').value = this.responseText
        }
      }
      xhr.onerror = function() {
        window.alert('Oops! An error occurred. (服务器端返回错误)')
      }
      xhr.send()
    }
    </script>

  </head>
  <body>
  {% block body %}{% endblock body %}
  </body>
</html>
